<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Banker's Algorithm</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!--custom.css-->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Any knowledges about software fundamental & technics" />
    <link rel="shortcut icon" href="https://lulubeanana17.github.io/assets/built/images/favicon.PNG" type="image/png" />
    <link rel="canonical" href="https://lulubeanana17.github.io/banker-algorithm" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Siyoon Jung" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Banker's Algorithm" />
    <meta property="og:description" content="Banker’s algorithm is a DeadLock avoidance algorithm. DeadLock Avoidance only allocate Resources in “Safe State”. So, Banker’s algorithm only accept Safe State requests, and decline Unsafe State requests until changing to Safe State. The concept of Banker’s algorithm In the above image, Bank has $20 now, but User 1, 2," />
    <meta property="og:url" content="https://lulubeanana17.github.io/banker-algorithm" />
    <meta property="og:image" content="https://lulubeanana17.github.io/assets/built/images/jekyll-logo.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2021-09-21T05:50:00+12:00" />
    <meta property="article:modified_time" content="2021-09-21T05:50:00+12:00" />
    <meta property="article:tag" content="Front-end" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Banker's Algorithm" />
    <meta name="twitter:description" content="Banker’s algorithm is a DeadLock avoidance algorithm. DeadLock Avoidance only allocate Resources in “Safe State”. So, Banker’s algorithm only accept Safe State requests, and decline Unsafe State requests until changing to Safe State. The concept of Banker’s algorithm In the above image, Bank has $20 now, but User 1, 2," />
    <meta name="twitter:url" content="https://lulubeanana17.github.io/" />
    <meta name="twitter:image" content="https://lulubeanana17.github.io/assets/built/images/jekyll-logo.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Siyoon Jung" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Front-end" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Siyoon Jung",
        "logo": "https://lulubeanana17.github.io/"
    },
    "url": "https://lulubeanana17.github.io/banker-algorithm",
    "image": {
        "@type": "ImageObject",
        "url": "https://lulubeanana17.github.io/assets/built/images/jekyll-logo.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://lulubeanana17.github.io/banker-algorithm"
    },
    "description": "Banker’s algorithm is a DeadLock avoidance algorithm. DeadLock Avoidance only allocate Resources in “Safe State”. So, Banker’s algorithm only accept Safe State requests, and decline Unsafe State requests until changing to Safe State. The concept of Banker’s algorithm In the above image, Bank has $20 now, but User 1, 2,"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Banker's Algorithm" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://lulubeanana17.github.io/">Siyoon Jung</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/tag/front-end/">front-end</a></li>
    <li class="nav-python" role="menuitem"><a href="/tag/back-end/">back-end</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Posts by Tags</a>
    </li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Subscribe</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-front-end post tag-python ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="21 September 2021">21 September 2021</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/front-end/'>FRONT-END</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Banker's Algorithm</h1>
            </header>

            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/jekyll-logo.jpg)">
            </figure>
            
            -->

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <!--<span class="table-of-contents-list">This is Python table of contents </span>
<ul class="table-of-contents-list">
    <li><a href="./frontend-basic">front-end-basic</a></li>
    <li><a href="./python-control-statement">front-end-control-statement</a></li>
</ul>-->

<p>Banker’s algorithm is a DeadLock avoidance algorithm.</p>
<hr />

<p>DeadLock Avoidance only allocate Resources in “Safe State”.<br />
So, Banker’s algorithm only accept Safe State requests, and decline Unsafe State requests 
until changing to Safe State.</p>
<hr />

<p>The concept of Banker’s algorithm</p>

<p><img src="../assets/built/images/bank-1.PNG" alt="runtime2" />
In the above image, Bank has $20 now, but User 1, 2, and 3 still need money.<br /><br />
To solve the shortage, <br />
First solution is give $10 to User 2, and wait for user 2 until he give money back to bank.
When Bank get $40 from user 2, they can help user 1 or 3.<br />
Second solution is give $20 to user 3, and wait for user 3 until get back money.<br />
However, this method is not working with user 1 because he needs $40.<br />
So, we can help user 1 after user 2 and 3 complete.<br /><br />
“Safe State” is a state that bank can give and get back money from users.<br /></p>
<ul>
  <li>user2 -&gt; user1 -&gt; user3<br /></li>
  <li>user2 -&gt; user3 -&gt; user1<br /></li>
  <li>user3 -&gt; user1 -&gt; user2<br /></li>
  <li>user3 -&gt; user2 -&gt; user1<br /><br />
These sequences are known as “Safe Sequence”, which can solve user’s problem.
<img src="../assets/built/images/bank-2.PNG" alt="runtime2" />
However, in this case, user1 needs urgent $35.
The bank currently have only $5. The bank cannot help anyone of users, and they will bankrupt.<br />
This state is known as “Unsafe State” or “DeadLock”.<br /><br />
So, the banker’s algorithm is caused from “Bank must have money that can help at least one users”.</li>
</ul>
<hr />

<p>Safe State<br />
 -&gt; a state that has Safe sequence that can allocate necessary Resource to Process without DeadLock.<br /><br />
Unsafe State<br />
 -&gt; a state that does not have Safe Sequence. Unsafe State is a necessary condition to make DeadLock.<br /><br />
DeadLock only occur when Unsafe State exists. Unsafe State has no guarantee to make DeadLock.</p>
<hr />

<p>Necessary conditions to operate Banker’s algorithm<br /><br /></p>
<ol>
  <li>Maximum Money that Users can request<br />
-&gt; How many resources the Process can request<br /></li>
  <li>Current money that users can borrow<br />
-&gt; how many resources the Process is holding now<br /></li>
  <li>Available money in the bank<br />
-&gt; How many resources the system has available</li>
</ol>
<hr />

<p>Process example</p>

<p><img src="../assets/built/images/bank-example.PNG" alt="runtime2" />
P0, P1, P2 are Process, OS has 12 Drives for Resources.<br />
Now, at “t0” time, P0 uses 5 Drives, P1 uses 2 Drives, and P2 uses 2 Drives. So, 
OS has 3 Drives as available Resources now.<br />
the system is Safe State at t0 because (P1 -&gt; P0 -&gt; P2) is satisfied with Safe Sequence.<br /><br />
However, the system can be Unsafe State.<br />
At “t1” time, P2 Process request 1 more Drive Resource, and available Resource is 2.
<img src="../assets/built/images/bank-example1.PNG" alt="runtime2" />
In this situation, P0 is impossible because it needs 5 Drives Resources.<br />
Also P1 is not solution because, even though OS helps P1 and get back 4 Drive Resources, OS can not 
help P0 or P2 with 4 Drive Resources.<br />
So, the system is Unsafe State at “t1” Time.<br /><br />
If we had made P2 waits until other processes had finished and released its resources, then we 
could have avoided the DeadLock.<br />
The idea is imply to ensure that the system will always remain in Safe State.</p>
<hr />

<p>Disadvantage of Banker’s algorithm<br /><br /></p>
<ul>
  <li>The prerequisites<br />
    <ul>
      <li>Same Resource number<br /></li>
      <li>Low rate of Resource usability to prevent Unsafe State<br /></li>
      <li>Need to know the Maximum Resource numbers<br /></li>
      <li>Limited time for holding Resources<br /><br />
Banker’s algorithm is not recommened.</li>
    </ul>
  </li>
</ul>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->

            <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to Siyoon Jung</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

                </section>
            
            -->

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'https://lulubeanana17.github.io/banker-algorithm';
                            var this_page_identifier = '/banker-algorithm';
                            var this_page_title = 'Banker's Algorithm';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://xxxxxxxx.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; Siyoon Jung &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/front-end/">Front-end</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Scheduling">Process scheduling algorithm</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/DeadLock">DeadLock</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/OS">Operating System</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/front-end/">
                                
                                    See all 13 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/Scheduling">
                <div class="post-card-image" style="background-image: url(/assets/built/images/jekyll-logo.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Scheduling">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Front-end</span>
                            
                        
                    

                    <h2 class="post-card-title">Process scheduling algorithm</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/DeadLock">
                <div class="post-card-image" style="background-image: url(/assets/built/images/jekyll-logo.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/DeadLock">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Front-end</span>
                            
                        
                    

                    <h2 class="post-card-title">DeadLock</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                <span class="reading-time">
                    
                    
                      2 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://lulubeanana17.github.io/">
            
            <span>Siyoon Jung</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Banker's Algorithm</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Banker%27s+Algorithm&amp;url=https://lulubeanana17.github.io/banker-algorithm"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://lulubeanana17.github.io/banker-algorithm"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://lulubeanana17.github.io/">Siyoon Jung</a> &copy; 2021</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Subscribe to Siyoon Jung</h1>
                <p class="subscribe-overlay-description">Stay up to date! Get all the latest &amp; greatest posts delivered straight to your inbox</p>
                <form method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit" disabled><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

            </div>
        </div>
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
